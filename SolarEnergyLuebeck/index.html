<!DOCTYPE html>
<html>

<head>
    <title>index</title>
    <script src="echarts.min.js"></script>
    <script
        src="https://api.solcast.com.au/world_radiation/forecasts?latitude=53.865467&longitude=10.686559&format=json">
    </script>
</head>

<body>
    <table width=750 border=0 cellspacing=0 cellpadding=0 align=center bgcolor=#ffffff>
        <tr>
            <td width=750 height=2 colspan=3></td>
        </tr>
        <tr>
            <td width=750 height=1 bgcolor=#000000 colspan=3></td>
        </tr>
        <tr>
            <td style=padding-left:10px>
                <h2>SolarEnergyLuebeck</h2>
            </td>
            <td width=100% align=right>
                <table width=100% border=0 cellspacing=0 cellpadding=0>
                    <tr align=center>
                        <td align=right style=padding-right:10px><button type="button">Start</button></td>
                    </tr>
                </table>
        <tr>
            <td width=750 height=1 bgcolor=#000000 colspan=3></td>
        </tr>
        <tr>
            <td width=750 height=2 colspan=3></td>
        </tr>
    </table></br>
    <p align=center>
        <font size=3>Click start to see the solar energy status right now!</font>
    </p>
    <div id="main" style="width: 50%;height:400px;"></div>
    <script type="text/javascript">
        // example
        var myChart = echarts.init(document.getElementById('main'));
        // 显示标题，图例和空的坐标轴
        myChart.setOption({
            title: {
                text: 'SolarEnergyLevel'
            },
            xAxis: {
                data: []
            },
            yAxis: {},
            series: [{
                name: 'ghi',
                type: 'bar',
                data: []
            }]
        });
        var arr_ghi = [];
        var arr_end = [];
        var arr2 = [];
        $.getJSON(
            "https://api.solcast.com.au/world_radiation/forecasts?latitude=53.865467&longitude=10.686559&format=json",
            function (data) {
                for (i in data.forecasts) {
                    arr2.push(i);
                    arr_ghi.push(data.forecasts[i].ghi);
                    arr_end.push(data.forecasts[i].period_end);
                }
                myChart.setOption({
                    xAxis: {
                        data: arr_end
                    },
                    series: [{
                        // 根据名字对应到相应的系列
                        name: 'ghi',
                        data: arr_ghi
                    }]
                })
            })
    </script>

</body>

</html>